<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Balancing the Student Life — CSC316 Final</title>

    <!-- Theme -->
    <link rel="stylesheet" href="css/style.css" />

    <!-- D3 must load BEFORE our vis scripts -->
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>

    <!-- Lightweight layout styles to match your screenshots (won’t alter colors) -->
    <style>
        :root { --wrap: 1200px; --radius: 14px; --panel-bg: rgba(255,255,255,0.45); }
        .wrap { max-width: var(--wrap); margin: 0 auto; padding: 1.25rem 1rem; }
        .page-title { margin: 0 0 .25rem 0; }
        .subtitle { margin: 0 0 .5rem 0; opacity: .85; font-weight: 600; }
        .inline-nav a { margin-right: .75rem; text-decoration: underline; cursor: pointer; }
        .panel { background: var(--panel-bg); border-radius: var(--radius); padding: 1rem 1.25rem; box-shadow: 0 1px 0 rgba(0,0,0,0.03) inset; }
        .panel.soft { padding: .9rem 1rem; }
        .section-title { margin: 0 0 .35rem 0; }
        .visbox { background: rgba(255,255,255,0.35); border-radius: var(--radius); padding: .75rem; }
        .visblock { min-height: 520px; }
        .muted { opacity: .82; }
        .bullets { margin: .5rem 0 0 0; padding-left: 1.1rem; }
        .site-footer { text-align: center; opacity: .75; padding: 1.5rem 0 2rem; }
        .spacer { height: 10px; }
    </style>
</head>

<body>
<!-- Header -->
<header class="wrap">
    <h1 class="page-title">Balancing the Student Life</h1>
    <button id="themeToggle" class="btn" style="float:right">Night Mode</button>
    <div class="subtitle">Week 8 — Prototype V1 (Novel vis + interactions planned)</div>
    <nav class="inline-nav">
        <a href="#hook">Hook</a>
        <a href="#insights">Rising Insights</a>
        <a href="#messages">Main Messages</a>
        <a href="#solution">Solution</a>
    </nav>
</header>


<!-- CONTROLS (Filters + Simulator) -->
<section id="controls" class="wrap">
    <div class="panel">
        <h2 class="section-title">Explore Controls</h2>
        <div style="display:flex; flex-wrap:wrap; gap:14px; align-items:flex-end;">
            <!-- Filters -->
            <div>
                <div style="font-weight:700; margin-bottom:6px;">Filters</div>
                <div style="display:flex; gap:10px; flex-wrap:wrap;">
                    <label style="display:flex; flex-direction:column; gap:4px;">
                        <span class="muted">Year</span>
                        <select id="fYear"><option value="">All</option></select>
                    </label>
                    <label style="display:flex; flex-direction:column; gap:4px;">
                        <span class="muted">Major</span>
                        <select id="fMajor"><option value="">All</option></select>
                    </label>
                    <label style="display:flex; flex-direction:column; gap:4px;">
                        <span class="muted">Gender</span>
                        <select id="fGender"><option value="">All</option></select>
                    </label>
                    <button id="clearFilters" type="button" style="margin-left:6px;">Clear</button>
                </div>
            </div>
            <!-- Simulator -->
            <div style="flex:1; min-width:280px;">
                <div style="font-weight:700; margin-bottom:6px;">Quick Simulator (prototype)</div>
                <div style="display:grid; grid-template-columns: 160px 1fr auto; gap:8px; align-items:center;">
                    <div class="muted">Sleep hours</div>
                    <input id="simSleep" type="range" min="4" max="10" step="0.5" value="7.5">
                    <div id="simSleepVal" class="muted">7.5</div>
                    <div class="muted">Exercise hrs/wk</div>
                    <input id="simEx" type="range" min="0" max="14" step="1" value="3">
                    <div id="simExVal" class="muted">3</div>
                    <div class="muted">Coping</div>
                    <select id="simCoping"><option value="">(auto from data)</option></select>
                    <div id="simOut" style="font-weight:700;">Predicted stress: —</div>
                </div>
            </div>
        </div>
    </div>
</section>


<main>

    <!-- HOOK -->
    <section id="hook" class="wrap">
        <h2 class="section-title">Hook — The Student Spiral</h2>
        <div class="panel">
            <p class="muted">
                Every student knows the pattern — less sleep, more caffeine, higher stress. What does the data actually say
                about how our daily choices connect to stress, anxiety, and depression?
            </p>
        </div>
    </section>

    <!-- RISING INSIGHTS -->
    <section id="insights" class="wrap">
        <h2 class="section-title">Rising Insights — What the Data Reveal</h2>

        <div class="panel soft muted">
            Four creative views reveal patterns across sleep, emotions, coping, and demographics.
        </div>
        <div class="spacer"></div>

    <!-- Classroom panel -->
    <div class="panel">
        <h3 class="section-title">Classroom of Stress</h3>
        <p class="muted">
            Pictograph of students colored by stress category (low / moderate / high); filter by major / year (planned).
            Shows that stress is widespread, not isolated.
        </p>
        <div class="visbox">
            <div id="classroom-vis" style="width:100%; height:600px; border:1px solid #ccc;"></div>
        </div>
    </div>

    <!-- Tooltip div -->
    <div id="tooltip" style="
        position: absolute;
        pointer-events: none;
        background: rgba(0,0,0,0.85);
        color: white;
        padding: 6px 10px;
        border-radius: 6px;
        font-size: 0.9rem;
        display: none;
        z-index: 10;
    "></div>


        <div class="spacer"></div>

        <!-- (B) Sleep Orbit Map – placeholder card to match your layout -->
        <div class="panel">
            <h3 class="section-title">Sleep Orbit Map (Novel)</h3>
            <div class="visbox">
                <div id="sleep-orbit-vis">
                   <div id="sleep-orbit-inputs" style="text-align: center;">
                        <input type="range" id="sleep-orbit-time-in-bed" min="0" max="16" step="0.5" value="2">
                        <label for="sleep-orbit-time-in-bed">Time in Bed</label>
                        <input type="range" id="sleep-orbit-sleep-start-time" min="0" max="16" step="0.5" value="4">
                        <label for="sleep-orbit-sleep-start-time">Sleep Start Time</label>
                        <input type="range" id="sleep-orbit-wake-up-time" min="0" max="16" step="0.5" value="6">
                        <label for="sleep-orbit-wake-up-time">Wake Up Time</label>
                    </div> 
                </div>
                
            </div>
            <p class="muted">
                Sections are awake time, time to fall asleep, sleep, and wake up. Various stats are shown and adjust as you move the sliders to simulate different sleep patterns.
            </p>
        </div>

        <div class="spacer"></div>

        <!-- (C) Emotion Constellation Triangle (interactive) -->
        <div class="panel">
            <h3 class="section-title">Emotion Constellation Triangle</h3>
            <p class="muted">
                Each dot positions a student by normalized <strong>Stress (PSS-10)</strong>, <strong>Anxiety (GAD-7)</strong>,
                and <strong>Depression (PHQ-9)</strong>. Color encodes combined severity. Strong co-movement suggests these
                emotions cluster together.
            </p>
            <div class="visbox">
                <div id="triangle-vis" class="visblock"></div>
            </div>
            <ul class="bullets muted">
                <li>Planned: brush a cluster → dim unrelated plants in the Garden (linked view).</li>
            </ul>
        </div>

        <div class="spacer"></div>

        <!-- (D) Coping Strategy Garden (interactive) -->
        <div class="panel">
            <h3 class="section-title">Novel Vis: Coping Strategy Garden</h3>
            <p class="muted">
                Each flower = a coping behavior. <strong>Stem height</strong> = lower average stress (taller = better).
                Leaf/petal color hints at frequency. Flower size ≈ average exercise hours. Healthy, active strategies grow tall;
                passive habits stay short.
            </p>
            <div class="visbox">
                <div id="garden-vis" class="visblock"></div>
            </div>
            <ul class="bullets muted">
                <li>Hover tooltips ✓</li>
                <li>Click stem to pin stress value ✓</li>
                <li>Planned: filter by major / year; linked highlight with triangle</li>
            </ul>
        </div>


        <!-- (F) Balance Map — Radar (Spider) Chart -->
        <div class="panel">
        <h3 class="section-title">Stick Figure Map with Spiderchart</h3>
        <p class="muted">
            The stick figures roam until a metric is selected, upon which they cluster according to the given metric.
            Hovering over an individual stick figure reveals a radar chart that displays the stress, sleep, exercise, 
            depression and anxiety data we have for that individual.
        <div class="visbox">
            <div id="radar-vis" class="visblock"></div>
        </div>
        <ul class="bullets muted">
                <li>Hover Spiderchart completed</li>
                <li>Organizing stick figures by different metrics completed</li>
                <li>Planned: colour each individual stick figure based on their stress level. Currently random colour between green and red</li>
                <li>Planned: more interactive visualizations</li>
                
            </ul>
        </div>

    </section>



    <!-- MAIN MESSAGES -->
    <section id="messages" class="wrap">
        <h2 class="section-title">Main Messages</h2>

        <div class="panel">
            <h3 class="section-title">Balance Is Measurable</h3>
            <p class="muted">
                Lifestyle choices (sleep, exercise, coping strategies) are directly linked to stress and mental health —
                the visuals above quantify these links.
            </p>
            <p class="muted">
                Planned: small multiple radar “Balance Map” (sleep / social / health) per stress tier.
            </p>
        </div>

        <div class="spacer"></div>

        <div class="panel">
            <h3 class="section-title">Find Your Own Path to Well-Being</h3>
            <p class="muted">
                There isn’t a single fix. Students can explore the patterns and identify which habits (e.g., consistent sleep,
                active coping) work best for them.
            </p>
        </div>
    </section>

    <!-- SOLUTION -->
    <section id="solution" class="wrap">
        <h2 class="section-title">Solution — Find Your Balance</h2>
        <div class="panel">
            <p class="muted">
                Try small adjustments and see predicted stress change. We’ll add a simple simulator next: move sliders for sleep,
                study hours, and chosen coping → predicted stress & triangle highlight update.
            </p>
        </div>
    </section>
</main>

<footer class="site-footer">
    <p>© 2025 Team: Ayaan Asif · Cynthia Liu · Faraz Malik · Tahseen Rana</p>
</footer>

<!-- Scripts: keep order to preserve interactions you already have -->
<script src="js/utils.js"></script>
<script src="js/sleep-orbit.js"></script>
<script src="js/ternary.js"></script>
<script src="js/garden.js"></script>
<script src="js/radar_avatars.js"></script>
<script src="js/classroom.js"></script>
<script src="js/main.js"></script>

<script>
    (function(){
        const btn = document.getElementById('themeToggle');
        if (!btn) return;
        function setTheme(t){
            document.documentElement.dataset.theme = t;
            if (window.bus) bus.call('themeChange', null, t);
            btn.textContent = (t === 'night') ? 'Day Mode' : 'Night Mode';
        }
        btn.addEventListener('click', function(){
            const cur = document.documentElement.dataset.theme === 'night' ? 'day' : 'night';
            setTheme(cur);
        });
    })();
</script>

</body>
</html>
